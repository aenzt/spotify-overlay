(function(e){function t(t){for(var a,o,i=t[0],s=t[1],u=t[2],f=0,d=[];f<i.length;f++)o=i[f],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);l&&l(t);while(d.length)d.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],a=!0,i=1;i<n.length;i++){var s=n[i];0!==r[s]&&(a=!1)}a&&(c.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={app:0},c=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=s;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23");function r(e,t){var n=Object(a["u"])("router-view");return Object(a["o"])(),Object(a["d"])(n)}n("79f9");const c={};c.render=r;var o=c,i=(n("ba8c"),n("6c02")),s={class:"home p-6 max-w-sm mx-auto bg-white rounded-xl shadow-md flex items-center space-x-4"},u=Object(a["f"])("div",{class:"flex-shrink-0"}," Spotify Overlay ",-1),l=Object(a["f"])("span",{class:"text-xl"},"Login Using Spotify",-1),f=Object(a["e"])(),d=Object(a["f"])("i",{class:"fab fa-spotify text-2xl"},null,-1);function b(e,t,n,r,c,o){return Object(a["o"])(),Object(a["d"])("div",s,[u,Object(a["f"])("button",{onClick:t[1]||(t[1]=function(e){return o.redirect("/api/login/")}),class:"bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-600 focus:ring-opacity-50 text-white p-2"},[l,f,d])])}var m={name:"Home",components:{},methods:{redirect:function(e){location.href=e}}};m.render=b;var p=m,g={class:"about"},h=Object(a["f"])("h1",null,"This is an about page",-1);function v(e,t){return Object(a["o"])(),Object(a["d"])("div",g,[h])}const O={};O.render=v;var j=O,_={class:"NowPlaying"};function w(e,t,n,r,c,o){var i=Object(a["u"])("Overlay");return Object(a["o"])(),Object(a["d"])(a["a"],{"enter-active-class":"animate__animated animate__bounceIn","leave-active-class":"animate__animated animate__bounceOut",mode:"out-in"},{default:Object(a["A"])((function(){return[Object(a["f"])("div",_,[Object(a["f"])(i)])]})),_:1})}n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("ac1f"),n("841c"),n("c1f9");var x=Object(a["C"])("data-v-14e70c86");Object(a["r"])("data-v-14e70c86");var y={class:"\n        p-6\n        min-w-40\n        max-h-44\n        w-fit-content\n        mx-5\n        rounded-xl\n        shadow-md\n        flex\n        items-center\n        space-x-4\n        blur-xl\n        bg-gray-400\n        bg-opacity-30\n        justify-items-center\n      "},k={class:"flex-shrink-0 mx-2"},S={class:"justify-items-center"},P=Object(a["f"])("span",{class:"fas fa-pause-circle animate-flicker"},null,-1);Object(a["p"])();var R=x((function(e,t,n,r,c,o){return Object(a["o"])(),Object(a["d"])("div",y,[Object(a["f"])("div",k,[Object(a["f"])(a["a"],{"enter-active-class":"animate__animated animate__backInLeft","leave-active-class":"animate__animated animate__fadeOut",mode:"out-in"},{default:x((function(){return[Object(a["B"])((Object(a["o"])(),Object(a["d"])("img",{class:"h-32 w-32 rounded-lg",key:c.albumimg,src:c.albumimg,alt:""},null,8,["src"])),[[a["y"],c.albumimg]])]})),_:1})]),Object(a["f"])("div",S,[Object(a["f"])(a["a"],{"enter-active-class":"animate__animated animate__backInDown","leave-active-class":"animate__animated animate__fadeOut",mode:"out-in"},{default:x((function(){return["Paused"===c.title?(Object(a["o"])(),Object(a["d"])("p",{key:c.title,class:"text-5xl font-bold text-white"},[P,Object(a["e"])(" Song "+Object(a["w"])(c.title),1)])):(Object(a["o"])(),Object(a["d"])("p",{key:c.title,class:"text-4xl font-bold text-white text-center mb-2"},Object(a["w"])(c.title),1))]})),_:1}),Object(a["f"])(a["a"],{"enter-active-class":"animate__animated animate__backInDown","leave-active-class":"animate__animated animate__fadeOut",mode:"out-in"},{default:x((function(){return["Paused"===c.title?(Object(a["o"])(),Object(a["d"])("p",{key:c.artist,class:"text-white font-medium text-2xl text-center"})):(Object(a["o"])(),Object(a["d"])("p",{key:c.artist,class:"text-white font-medium text-3xl text-center"},Object(a["w"])(c.artist),1))]})),_:1})])])})),I=n("1da1"),L=(n("96cf"),n("d4ec")),M=n("bee2"),T=n("bc3a"),U=n.n(T),A="/api/",B=function(){function e(){Object(L["a"])(this,e)}return Object(M["a"])(e,null,[{key:"getSong",value:function(){var e=new URLSearchParams(window.location.search),t=e.get("access_token");return new Promise((function(e,n){U.a.get("".concat(A,"nowplaying?access_token=").concat(t)).then((function(t){var n=t.data;e(n)})).catch((function(e){n(e)}))}))}},{key:"postToken",value:function(){var e=new URLSearchParams(window.location.search),t=e.get("refresh_token");return new Promise((function(e,n){U.a.post("https://accounts.spotify.com/api/token",{grant_type:"refresh_token",refresh_token:t}).then((function(t){e(t.data)})).catch((function(e){n(e)}))}))}}]),e}(),C=B,D={name:"Overlay",data:function(){return{title:"",is_playing:Boolean,artist:"",albumimg:"",progress:0,song_length:0}},methods:{assignSong:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C.getSong();case 3:e.song=t.sent,e.title=e.song.track,e.is_playing=e.song.is_playing,e.artist=e.song.artist,e.albumimg=e.song.albumimg,e.progress=e.song.progress,e.song_length=e.song.song_length,t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),e.error=t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()},interval:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.assignSong();case 2:return t.t0=setInterval,t.next=5,e.assignSong;case 5:t.t1=t.sent,(0,t.t0)(t.t1,5e3);case 7:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.assignSong();case 2:return t.next=4,e.interval();case 4:case"end":return t.stop()}}),t)})))()}};n("cf24");D.render=R,D.__scopeId="data-v-14e70c86";var H=D,J=n("b383"),N={name:"About",components:{Overlay:H},data:function(){return{refresh_token:""}},methods:{goto:function(e){location.href=e},redirect:function(){var e=new URLSearchParams(window.location.search),t=Object.fromEntries(e.entries());console.log("Redirecting"),console.log(t.refresh_token),this.goto("refreshtoken/?"+J.stringify({refresh_token:t.refresh_token}))}},created:function(){setInterval(this.redirect,3599899)}};N.render=w;var E=N,q=[{path:"/",name:"Home",component:p},{path:"/about",name:"About",component:j},{path:"/nowplaying",name:"NowPlaying",component:E}],z=Object(i["a"])({history:Object(i["b"])("/"),routes:q}),F=z;n("77ed");Object(a["c"])(o).use(F).use(F).mount("#app")},"6ad7":function(e,t,n){},"79f9":function(e,t,n){"use strict";n("cf1d")},ba8c:function(e,t,n){},cf1d:function(e,t,n){},cf24:function(e,t,n){"use strict";n("6ad7")}});
//# sourceMappingURL=app.e783f89b.js.map